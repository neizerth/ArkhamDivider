# Cross-Origin Embedder Policy and Cross-Origin Opener Policy for SharedArrayBuffer support
<IfModule mod_headers.c>
  # Apply COEP/COOP headers to all resources
  Header always set Cross-Origin-Opener-Policy "same-origin"
  Header always set Cross-Origin-Embedder-Policy "credentialless"
  
  # Additional headers for JS and WASM files (may be loaded in workers/iframes)
  <FilesMatch "\.(js|wasm)$">
    Header set Cross-Origin-Opener-Policy "same-origin"
    Header set Cross-Origin-Embedder-Policy "credentialless"
  </FilesMatch>
</IfModule>

# WASM MIME type
AddType application/wasm .wasm